# 로그 분석 임계값 설정 파일
# Log Analysis Thresholds Configuration
# version: 1.0.0
# created: 2026-02-24

# ============================================================
# 알림 임계값 (Alert Thresholds)
# ============================================================

[alert_thresholds]
# 실패율 (Failure Rate) - 퍼센트
# 도구별 실패율이 이 값을 초과하면 경고
failure_rate_warning=5.0
failure_rate_critical=15.0

# 타임아웃 비율 (Timeout Rate) - 퍼센트
timeout_rate_warning=10.0
timeout_rate_critical=25.0

# 응답시간 (Response Time) - 초
# 평균 응답시간이 이 값을 초과하면 경고
avg_duration_warning=60
avg_duration_critical=120

# P95 응답시간 (95th Percentile) - 초
p95_duration_warning=90
p95_duration_critical=180

# 연속 실패 (Consecutive Failures)
# 동일 도구가 연속으로 이 횟수만큼 실패하면 경고
consecutive_failures=3

# Z-score 이상치 (Statistical Anomaly)
# |z_score| > threshold 이면 이상치로 판단
z_score_threshold=3.0

# 성능 저하 (Performance Regression)
# N일 연속 M% 이상 성능 저하 시 경고
regression_days=3
regression_percentage=20.0

# ============================================================
# 분석 설정 (Analysis Settings)
# ============================================================

[analysis_settings]
# 토큰 추정 계수 (bytes per token)
# 참고: 한국어+코드 혼합 기준 평균 3.3 bytes/token
bytes_per_token=3.3

# 비용 단가 (USD per 1K tokens)
# 참고: ultrabrain/artistry 카테고리 기준 (Opus/Pro 급)
input_token_price=0.015
output_token_price=0.075

# Top N 설정
# 각종 Top N 분석에서 표시할 항목 수
top_n_tools=10
top_n_errors=10
top_n_outliers=20

# 날짜 형식
date_format="%Y-%m-%d"
datetime_format="%Y-%m-%d %H:%M:%S"

# ============================================================
# 로그 설정 (Log Settings)
# ============================================================

[log_settings]
# 로그 파일 패턴
log_file_pattern="*.jsonl"

# 로그 디렉토리
log_directory=".agent/logs"

# 보관 기간 (일)
log_retention_days=90

# ============================================================
# 출력 설정 (Output Settings)
# ============================================================

[output_settings]
# 리포트 출력 디렉토리
report_directory=".agent/dashboard"

# 분석 결과 출력 디렉토리
analysis_directory=".agent/dashboard/analysis"

# 알림 출력 파일
alerts_filename="alerts_YYYYMMDD.md"

# 리포트 파일명 패턴
daily_report_pattern="report_YYYYMMDD.md"
weekly_report_pattern="report_weekNN.md"

# ============================================================
# 도구별 특화 설정 (Tool-Specific Settings)
# ============================================================

[tool_notebooklm]
# NotebookLM 특화 설정
expected_avg_duration=15.0
notes="무료 사용, 소스 기반 질의응답"

[tool_deep_research]
expected_avg_duration=300.0
notes="Gemini 기반 Deep Research, 평균 5분 소요"

[tool_gemini_api]
expected_avg_duration=30.0
cost_per_image_2k=0.035
cost_per_image_4k=0.070
notes="Nano Banana Pro 이미지 생성"

[tool_manus_ai]
expected_avg_duration=600.0
notes="Manus AI API, 세션당 10-15분 소요"

[tool_pdf_official]
expected_avg_duration=5.0
notes="PDF 텍스트 추출, 로컬 처리"

[tool_context7]
expected_avg_duration=10.0
notes="API 문서 검색"

[tool_firecrawl]
expected_avg_duration=20.0
notes="웹 페이지 스크래핑"

# ============================================================
# 워크플로우별 설정 (Workflow Settings)
# ============================================================

[workflow_01_lecture_planning]
expected_tools=["notebooklm", "deep-research", "pdf-official"]
max_cost_per_run=2.0

[workflow_02_material_writing]
expected_tools=["notebooklm", "deep-research", "context7", "firecrawl", "pdf-official"]
max_cost_per_run=3.0

[workflow_06_nanobanana_pptx]
expected_tools=["gemini-api"]
max_cost_per_run=5.0

[workflow_07_manus_slide]
expected_tools=["manus-ai"]
max_cost_per_run=10.0
