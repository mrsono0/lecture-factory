# 세션 079 — 품질 검사관: 코드 리뷰 5대 체크포인트

| 항목 | 내용 |
|------|------|
| **세션 ID** | MS-PY101-079 |
| **소요 시간** | 20분 |
| **난이도** | ★★☆ |
| **청크 타입** | narrative |
| **선행 세션** | 세션-078 (필수) |
| **학습 목표** | 코드 품질을 검증하기 위한 5대 체크포인트(요구사항, 입력 검증, 경계값, 자료구조, 가독성/구조)를 설명할 수 있다 |
| **출처** | [A] 8 코딩.pdf §8.12, 9 디버깅,테스트,배포.pdf §9.3.2 · [B] NotebookLM §8 · [C] Deep Research §4.1 |

---

## ① 도입 — "테스트가 끝났다면, 이제 속살을 들여다볼 차례입니다"

🗣️ 강사 대본 (Instructor Script):

여러분, 방금 전 세션에서 작성한 테스트 시나리오를 통해 우리 프로그램이 얼마나 외부 공격에 취약한지 뼈저리게 느끼셨을 겁니다. 겉보기에는 멀쩡하게 작동하던 고객 관리 프로그램이 이상한 전화번호 하나, 빈칸 하나에 속수무책으로 무너졌죠? 이렇게 소프트웨어가 겉으로 드러내는 증상(Error)을 발견하는 것이 '테스트'라면, 이제는 그 증상의 원인을 찾아내고 앞으로 비슷한 병에 걸리지 않도록 체질을 개선하는 과정이 필요합니다. 그것이 바로 '코드 리뷰(Code Review)'입니다. [C] 자료의 심층 분석에 따르면, 훌륭한 시니어 개발자들은 코드를 작성하는 시간보다 동료의 코드를 읽고 리뷰하는 데 더 많은 시간을 쏟는다고 합니다. 특히 AI가 1초 만에 코드를 뱉어내는 요즘 시대에는, 이 코드가 정말로 현장에 배포되어도 안전한지 검증하는 '품질 검사관'의 역할이 훨씬 더 중요해졌습니다.

---

## ② 비유 — 건축물의 5단계 안전 진단

🗣️ 강사 대본 (Instructor Script):

코드 리뷰를 하는 과정은 마치 갓 지어진 새 아파트를 점검하는 '건축물 안전 진단'과 똑같습니다. 인부들(또는 AI)이 설계도대로 아파트를 뚝딱뚝딱 지어놨다고 해서 바로 사람들을 입주시켜도 될까요? 당연히 안 됩니다. 노련한 안전 진단 전문가는 아파트 단지에 들어서자마자 자신만의 철저한 5단계 체크리스트를 꺼내 듭니다.

가장 먼저 확인하는 것은 **'요구사항'**입니다. "원래 30평형 쓰리룸을 짓기로 했는데, 설계도대로 거실과 방 3개가 잘 빠졌는가?"를 봅니다. 아무리 튼튼하게 지었어도 투룸이라면 탈락이죠. 그 다음은 **'입력 검증(배관/전기)'**을 확인합니다. "수돗물을 틀었을 때 흙탕물이 섞여 들어오지는 않는가? 220V가 아닌 전압이 들어올 때 차단기가 제대로 떨어지는가?" 외부에서 들어오는 위험한 요소를 걸러낼 장치가 있는지 살피는 겁니다. 

세 번째는 **'경계값(극한 상황)'** 테스트입니다. "태풍이 불어서 유리창이 초속 50m의 강풍을 맞거나, 지진 강도 6.0이 발생해도 버틸 수 있는가?"를 봅니다. 평상시가 아니라 극한의 조건에서 무너지지 않는지 확인하는 것이죠. 네 번째는 **'자료구조(건축 자재)'**입니다. "기둥을 세울 때 철근 콘크리트를 썼는가, 아니면 겉보기에만 그럴싸한 스티로폼을 썼는가?" 상황에 맞는 적절한 재료를 썼는지 검증합니다.

마지막 다섯 번째는 **'가독성과 구조(미관 및 동선)'**입니다. "집의 구조가 너무 복잡해서 화장실을 가려면 안방을 지나야만 하는가? 누군가 수리하러 왔을 때 배관을 쉽게 찾을 수 있도록 도면과 라벨링이 잘 되어 있는가?"를 봅니다. 이 5단계 진단을 모두 통과해야만 비로소 '사람이 살아도 좋은 안전한 건축물', 즉 '배포해도 좋은 코드'라는 승인을 받을 수 있습니다. 우리는 이 진단 기준을 우리 파이썬 코드에 그대로 적용해 볼 것입니다.

---

## ③ 개념 — 완벽한 품질을 위한 5대 체크포인트

🗣️ 강사 대본 (Instructor Script):

그럼 이 5대 체크포인트를 우리 파이썬 코드에 어떻게 적용해야 할까요? 하나씩 구체적으로 살펴보겠습니다. [A] 자료와 [B] 자료의 코딩 가이드라인을 종합해 보면, 이 5가지는 개발자가 AI의 코드를 검증할 때 반드시 눈여겨봐야 할 핵심 요소입니다.
1. **요구사항 (Requirements)**: 코드가 우리가 원래 지시한 기능을 정확히 수행하고 있는지 확인합니다. 고객의 나이를 계산하라고 했는데 생년을 저장만 하고 있지는 않은지 확인하는, 가장 기본적이면서도 중요한 단계입니다.
2. **입력 검증 (Input Validation)**: 아까 테스트 시나리오에서 찾았던 구멍들을 코드가 잘 막아내고 있는지 봅니다. `if not name:` 처럼 값이 비어있는지 검사하거나, 정규식을 사용해 전화번호 형식이 맞는지 검사하는 로직이 있는지 살핍니다. 특히 AI가 짜준 코드는 이 입력 검증을 빼먹는 경우가 굉장히 많습니다.
3. **경계값 (Boundary Conditions)**: 리스트의 인덱스를 벗어나지는 않는지(`IndexError`), 나이에 음수가 들어가거나 200살이 들어가는 것을 막아주었는지 확인합니다. 극단적인 상황에 대한 처리가 코드에 반영되어야 합니다.
4. **자료구조 (Data Structures)**: 파이썬의 핵심인 리스트, 딕셔너리, 세트 등을 상황에 맞게 잘 썼는지 확인합니다. 고객을 주민번호로 빠르게 검색해야 하는데 리스트를 반복문으로 돌리고 있다면, 이를 딕셔너리의 키(Key)를 활용한 검색으로 바꾸도록 리뷰해야 합니다.
5. **가독성 및 구조 (Readability & Architecture)**: 변수 이름이 `a`, `b`처럼 대충 지어지지 않았는지, 함수가 너무 길어서 하나의 함수가 3가지 일을 하고 있지는 않은지 확인합니다. PEP 8 스타일에 맞춰 들여쓰기와 띄어쓰기가 깔끔한지 점검하는 것도 여기에 포함됩니다.

이 5가지 기준만 머릿속에 확실히 넣어두면, 여러분은 아무리 복잡한 코드를 만나더라도 당황하지 않고 시니어 개발자처럼 문제점을 콕콕 짚어낼 수 있습니다.

---

## ④ 코드 데모 — "AI의 허술한 코드 vs 시니어의 견고한 코드"

🗣️ 강사 대본 (Instructor Script):

화면의 코드를 함께 보실까요? 왼쪽은 AI에게 "고객 나이 업데이트 함수 만들어줘"라고 했을 때 1초 만에 뱉어낸 코드입니다. 

```python
# AI가 작성한 초안 (검증 없음)
def update_age(customer, new_age):
    customer['age'] = new_age
    print("업데이트 완료")
```

언뜻 보면 잘 작동할 것 같죠? 요구사항(나이 업데이트)은 만족했습니다. 하지만 우리의 5대 체크포인트를 들이대 볼까요? '입력 검증'이 전혀 없습니다. 누군가 `new_age`에 문자열 `"스무살"`을 넣으면 어떻게 될까요? '경계값' 처리도 없습니다. `-5`살이나 `1000`살이 들어와도 그냥 업데이트해 버리겠죠. 이제 오른쪽의 시니어 개발자가 수정한 코드를 보겠습니다.

```python
# 리뷰가 반영된 견고한 코드
def update_age(customer, new_age):
    if not isinstance(new_age, int):
        print("오류: 나이는 숫자여야 합니다.")
        return False
    
    if new_age < 0 or new_age > 150:
        print("오류: 유효하지 않은 나이 범위입니다.")
        return False
        
    customer['age'] = new_age
    print("정상적으로 업데이트되었습니다.")
    return True
```

어떤가요? 코드의 길이는 길어졌지만, 어떤 이상한 값이 들어와도 절대 프로그램이 죽지 않는 단단한 성벽이 생겼습니다. 이것이 바로 코드 리뷰와 리팩토링의 힘입니다.

---

## ⑤ 정리 — 진단 기준을 알았으니 진단서를 써봅시다

🗣️ 강사 대본 (Instructor Script):

여러분은 이제 좋은 코드와 위험한 코드를 구분할 수 있는 매의 눈을 가지게 되었습니다. 5대 체크포인트를 통해 내 코드, 그리고 AI가 만들어준 코드의 약점을 발견해내는 것이 소프트웨어 품질의 첫걸음입니다. 진단 기준을 알았으니, 이제 진단서를 예쁘게 써서 정비공(AI)에게 전달해야겠죠? 다음 세션에서는 이 발견된 문제점을 AI에게 정확하게 지시하여 코드를 수정받는 프롬프트 엔지니어링 실습을 진행하겠습니다.

> **체크포인트**: "코드 리뷰 5대 체크포인트 중, 사용자로부터 나이를 입력받을 때 0보다 작거나 150보다 큰 값이 들어오는 것을 막았는지 확인하는 항목은 무엇일까요?" — 경계값(Boundary) 확인입니다!