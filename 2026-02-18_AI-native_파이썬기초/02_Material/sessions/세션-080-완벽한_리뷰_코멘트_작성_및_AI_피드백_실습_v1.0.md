# 세션 080 — 완벽한 리뷰 코멘트 작성 및 AI 피드백 실습

| 항목 | 내용 |
|------|------|
| **세션 ID** | MS-PY101-080 |
| **소요 시간** | 25분 |
| **난이도** | ★★★ |
| **청크 타입** | lab |
| **선행 세션** | 세션-079 (필수) |
| **학습 목표** | 리뷰 코멘트 3요소(위치, 문제점, 재현 방법)를 포함한 프롬프트를 작성하여 AI에게 코드 수정을 지시하고, 예외 처리가 반영된 코드를 획득할 수 있다 |
| **출처** | [A] 9 디버깅,테스트,배포.pdf §9.3.2 PR · [C] Deep Research §4.2, 4.3 |

---

## ① 도입 — "버그를 발견했다면, 이제 AI에게 제대로 명령할 시간입니다"

🗣️ 강사 대본 (Instructor Script):

여러분, 이전 세션에서 우리는 5대 체크포인트를 활용해 AI가 짠 코드의 치명적인 허점들을 짚어내는 방법을 배웠습니다. 입력 검증도 없고, 경계값도 처리하지 않은 날것의 코드였죠. 자, 이제 이 문제를 해결해야 합니다. 과거의 개발자라면 여기서 밤을 새우며 직접 `if` 문을 추가하고, 예외 처리 코드를 한 땀 한 땀 타이핑했을 것입니다. 하지만 우리는 'AI-native' 개발자입니다. 문제를 발견하는 것은 우리의 몫이지만, 코드를 수정하고 타이핑하는 것은 우리의 든든한 조수, AI의 몫이죠. 그러나 AI에게 대충 "야, 코드 에러 나. 고쳐줘"라고 말하면 AI는 엉뚱한 곳을 고치거나 오히려 새로운 버그를 만들어냅니다. 오늘 우리는 AI가 단번에 핵심을 파악하고 코드를 완벽하게 고칠 수 있도록, 시니어 개발자의 언어로 '리뷰 코멘트'를 작성하는 프롬프트 엔지니어링 실습을 진행하겠습니다.

---

## ② 비유 — 명탐정의 사건 보고서

🗣️ 강사 대본 (Instructor Script):

완벽한 리뷰 코멘트는 셜록 홈즈 같은 '명탐정의 사건 보고서'와 같습니다. 여러분이 경찰서장이고 탐정에게 사건 조사를 맡겼다고 가정해 봅시다. 탐정이 돌아와서 "서장님, 범죄가 일어났습니다. 누군가 죽었어요. 아무튼 해결해 주세요."라고 보고한다면 어떨까요? 당연히 황당하겠죠. 훌륭한 탐정은 이렇게 보고합니다. "서장님, 어젯밤 11시 30분, 베이커 거리 221B번지 건물 2층 창문에서(위치), 독살로 추정되는 사건이 발생했습니다(문제점). 현장에 남아있는 찻잔의 가루를 분석하면 범인의 지문을 찾을 수 있을 것입니다(재현 및 해결 방법)."

AI에게 버그를 고치라고 명령할 때도 이 명탐정의 보고서와 정확히 똑같은 방식이 필요합니다. [C] 자료의 심층 분석을 보면, 주니어 개발자들이 AI를 활용할 때 가장 많이 실패하는 이유가 "안 돼요", "에러 나요"라는 식으로 뭉뚱그려 질문하기 때문이라고 합니다. AI는 코드를 보고 구조를 이해할 수는 있지만, 여러분이 도대체 어느 부분에서 어떤 데이터를 넣다가 실패했는지는 알 수 없습니다. 육하원칙처럼 명확한 정보를 주어야만 AI는 엉뚱한 코드를 건드리지 않고, 문제가 발생한 정확한 위치를 찾아 수술을 시작할 수 있습니다. 

우리는 AI에게 두 가지 페르소나를 부여할 것입니다. 하나는 여러분의 코드를 평가하는 '시니어 개발자'의 역할, 또 하나는 여러분의 리뷰 코멘트를 받고 직접 코드를 수정하는 '주니어 개발자(수행자)'의 역할입니다. 명확한 보고서만 있다면, 이 똑똑한 조수는 여러분이 상상한 것보다 훨씬 더 꼼꼼하게 에러 처리를 추가해 줄 것입니다.

---

## ③ 개념 — 리뷰 코멘트의 3요소

🗣️ 강사 대본 (Instructor Script):

그렇다면 탐정의 보고서처럼 완벽한 리뷰 코멘트를 작성하려면 어떤 내용이 들어가야 할까요? [A] 자료에 소개된 실무 PR(Pull Request) 리뷰 가이드라인에 따르면, 반드시 다음 3가지 요소가 포함되어야 합니다.

첫 번째는 '위치'입니다. 여러분의 파이썬 코드 전체를 던져주더라도 "고객 등록 기능 중 전화번호 입력 함수에서"라고 정확한 과녁을 짚어주어야 합니다. 그래야 AI가 조회 기능이나 삭제 기능을 건드려서 멀쩡한 코드를 망가뜨리는 대참사를 막을 수 있습니다.

두 번째는 '문제점'입니다. "에러가 납니다"가 아니라, "입력 검증이 없어서 전화번호를 입력하지 않고 엔터를 쳤을 때 프로그램이 종료됩니다"라고 구체적인 현상을 적어야 합니다. 아까 우리가 테스트 시나리오 실습에서 적었던 '실제 결과(Fail 현상)'를 그대로 가져와서 적으면 됩니다.

세 번째는 '재현 방법 및 기대 결과'입니다. "내가 빈칸(Null)을 입력해 보니까 튕기더라. 앞으로는 빈칸이 들어오면 '전화번호를 다시 입력하세요'라는 경고창을 띄우고 다시 입력받게 만들어줘."라고 해결 방향을 제시하는 것입니다. 

이 3요소를 결합하여 다음과 같은 형태의 프롬프트를 완성합니다. "너는 10년 차 시니어 파이썬 개발자야. 현재 `register_customer()` 함수(위치)에 입력 검증 로직이 누락되어 있어 빈 문자열을 입력하면 에러가 발생해(문제점). 나이가 숫자가 아니거나 전화번호가 비어있으면, 에러 메시지를 출력하고 다시 입력받도록 예외 처리를 추가해서 코드를 수정해 줘(기대 결과)." 이 마법의 문장 하나면 충분합니다.

---

## ④ 🎙️ 실습 가이드 (Lab Guide) — 내 코드를 방어하는 프롬프트 작성하기

| 단계 | 소요 시간 | 수행 내용 | 핵심 포인트 |
|---|---|---|---|
| **Step 1** | 5분 | 3요소가 포함된 리뷰 프롬프트 작성 | 메모장이나 빈 문서에 자신이 작성한 고객 관리 코드와 함께, 앞서 배운 3요소(위치, 문제점, 기대 결과)를 담은 프롬프트를 텍스트로 작성합니다. AI에게 페르소나(시니어 개발자)를 부여하는 문장도 잊지 마세요. |
| **Step 2** | 5분 | AI에게 전송 및 수정된 코드 확인 | 작성한 프롬프트와 코드를 ChatGPT나 Claude 등 AI 도구에 입력합니다. AI가 답변으로 제시한 코드에서 `if`, `except`, `while` 등의 예외 처리 로직이 제대로 추가되었는지 눈으로 먼저 확인합니다. |
| **Step 3** | 5분 | 수정된 코드 반영 및 빈값 재테스트 | AI가 짜준 코드를 복사하여 내 파이썬 에디터에 붙여넣습니다. 그리고 이전 세션에서 실패했던 테스트 시나리오(예: 빈칸 입력하기, 문자로 나이 입력하기)를 다시 실행하여 프로그램이 죽지 않고 경고 메시지를 잘 띄우는지 확인합니다. |

---

## ⑤ 정리 — 피드백은 가장 훌륭한 프로그래밍 언어입니다

🗣️ 강사 대본 (Instructor Script):

여러분이 작성한 명확한 리뷰 코멘트 덕분에, 아주 짧은 시간 안에 훌륭한 방어 코드가 완성되었습니다. 직접 짠 코드가 아님에도 불구하고 이제 프로그램이 빈칸이나 오타에 강하게 버티는 모습을 보니 마음이 든든하시죠? 이렇게 우리는 절차적으로 시작해서, 구조적으로 리모델링하고, 테스트로 구멍을 찾고, 코드 리뷰로 방어벽까지 세웠습니다. 완벽한 프롬프트는 그 어떤 복잡한 프로그래밍 언어보다 더 강력한 힘을 발휘합니다. 

> **체크포인트**: "AI에게 코드를 수정해 달라고 요청할 때 엉뚱한 결과를 막기 위해 반드시 포함해야 하는 리뷰 코멘트의 3요소는 무엇일까요?" — 위치, 문제점, 재현 방법(또는 기대 결과)입니다!