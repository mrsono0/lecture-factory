# 마이크로 세션: 091-고객관리 v3로의 진화 (OOP 적용)

## 📋 메타 정보
| 항목 | 값 |
|------|-----|
| **세션 ID** | MS-AI-native_파이썬기초-091 |
| **소요 시간** | 25분 |
| **예상 교안 분량** | 4,000자 |
| **선행 세션** | 세션-090 (필수) |
| **후행 세션** | 세션-092 |
| **핵심 키워드** | OOP 리팩토링, Customer 클래스, CustomerManager 클래스 |
| **난이도** | medium |
| **청크 타입** | code |

## 🎯 학습 목표
단 1개의 구체적인 학습 목표 (SMART 원칙 적용):
- 이 세션 종료 시 수강생은 AI 프롬프트를 활용해 절차적 구조의 코드를 `Customer`와 `CustomerManager` 클래스로 분리된 객체지향 구조로 리팩토링하고, 두 코드의 차이점을 설명할 수 있다.

## 🗣️ 강사 대본 구성

### 예상 분량
- **최소**: 공백 포함 1,500자
- **최대**: 공백 포함 2,000자
- **화법**: 친근한 구어체 (~해요, ~입니다)

### 서술 흐름
1. **도입 (Hook)**: 방금 전 배운 '부서 조직 재편' 이론을 실전 코드로 옮길 시간임을 선언합니다. Day 4에서 만든 v2 코드(`customer_manager_v2.py`)를 준비합니다.
2. **비유 (Analogy)**: 기존 v2 코드는 전역 변수 `customers = []`를 두고 여러 함수가 달라붙어 일하는 '시장통'이었습니다. 이를 ① 고객 데이터 전담(`Customer`)과 ② 매장 관리 총괄(`CustomerManager`)이라는 두 개의 깔끔한 '부서(클래스)'로 나누는 과정을 설명합니다.
3. **개념 설명 (What)**: `Customer` 클래스는 한 명 한 명의 데이터를 객체화하는 역할을 하고, `CustomerManager` 클래스는 그 객체들을 리스트에 담아 등록, 수정, 삭제, 조회를 총괄하는 역할을 함을 명시합니다. 
4. **실제 활용 (How)**: AI에게 "customer_manager_v2.py를 객체지향으로 리팩토링해줘. Customer 클래스와 CustomerManager 클래스를 분리해서 만들어줘"라고 요청하는 프롬프트 작성법을 보여주고, 출력된 코드를 복사해 v3 파일로 저장합니다. 
5. **정리 (Checkpoint)**: 코드가 길어졌음에도 불구하고, 관련 로직들이 클래스 안에 묶여있어 '유지보수'가 훨씬 쉬워졌음을 짚어주고 다음 세션의 데이터 검증 추가를 예고합니다.

### 예시 스크립트
> "이론으로 배운 '조직 개편'을 직접 코드로 실행해 보겠습니다. 여러분이 어제 작성한 `customer_manager_v2.py` 코드를 다 같이 열어볼까요? 위에 `customers = []`라는 텅 빈 전역 변수가 있고, 밑에 함수들이 쭉 나열되어 있죠? 전형적인 시장통 구조입니다. 
> 이제 AI에게 명확하게 지시를 내려봅시다. '이 코드를 객체지향으로 리팩토링해줘. 고객 한 명의 데이터를 담을 Customer 클래스와, 전체 목록을 관리할 CustomerManager 클래스로 나눠줘.' 
> 결과가 나왔나요? 놀랍게도 밖에서 떠돌던 `customers` 리스트가 `CustomerManager`의 `__init__` 안으로 쏙 들어갔습니다. 이제 고객 관리팀 안에서만 데이터를 안전하게 다루게 된 거죠. 코드를 자세히 비교해보세요."

## 🎙️ 실습 가이드 (해당 시)

### 실습 목표
- 이 실습을 통해 수강생은 전역 변수와 함수로 이루어진 코드를 2개의 상호작용하는 클래스로 리팩토링한다.

### 단계별 지시
| 단계 | 소요 시간 | 강사 지시사항 | 예상 결과 |
|------|----------|--------------|----------|
| 1 | 5분 | "Day 4의 v2 코드를 AI 입력창에 붙여넣고, '이 코드를 Customer와 CustomerManager 클래스를 사용하는 객체지향 구조(v3)로 리팩토링해줘'라고 요청하세요." | 두 클래스가 정의된 파이썬 코드 출력 |
| 2 | 5분 | "생성된 코드를 `customer_manager_v3.py`로 저장하고, 제대로 실행되어 v2와 똑같이 동작하는지 확인합니다." | 터미널에서 정상적으로 CRUD 동작 확인 |
| 3 | 5분 | "v2와 v3 코드를 나란히 띄우세요. 기존의 `add_customer()` 함수가 v3에서는 어디로 위치를 옮겼는지 찾아보세요." | 함수들이 CustomerManager의 메서드로 이동했음을 확인 |
| 4 | 5분 | "코드 리뷰 5대 체크포인트를 적용해 AI가 짜준 v3 코드에 버그가 없는지 가볍게 검토해 봅시다." | 의도대로 리팩토링이 되었는지 검증 |

### 주의사항 및 트러블슈팅
- 흔한 오류 1: AI가 리팩토링하면서 일부 기능(예: 검색)을 누락하는 경우 (해결법: SDD 원칙에 따라 "기존 v2의 모든 기능(등록, 조회, 수정, 삭제, 검색)을 빠짐없이 포함해 줘"라고 프롬프트를 보완하도록 지도합니다.)

## 💡 비유 및 스토리텔링

### 핵심 비유
- **비유**: 개인 사업자(v2)에서 법인 기업(v3)으로의 전환
- **설명**: 혼자서 장부도 쓰고 손님도 받던 구멍가게(전역 변수+함수)가, 규모가 커져서 '고객 응대팀(Customer)'과 '경영 관리팀(CustomerManager)'으로 체계를 갖춘 법인 기업(객체지향)으로 성장하는 과정입니다.
- **AI 시대의 서사 연결**: "AI에게 리팩토링을 맡기면 코드가 어떻게 진화하는지 보셨나요? 구조를 설계(명세)하는 것은 우리의 몫이고, 귀찮은 타이핑과 이전(Migration)은 AI의 몫입니다."

### 스토리텔링 포인트
- 감정적 연결: 복잡하게 얽혀 있던 코드가 클래스라는 '서랍' 안에 깔끔하게 정리되는 시각적 쾌감을 느끼게 합니다.
- 전환 멘트: "자, 이제 법인 기업으로 체계를 갖췄으니, 고객이 엉터리 데이터를 입력하지 못하게 입구 컷을 해야겠죠? 다음 세션에서 깐깐한 검증 로직을 추가해 보겠습니다."

## 🔗 의존성 및 연결성

### 필수 선행 지식
- 세션-090: 객체지향 리팩토링과 캡슐화 개념 (부서 개편의 필요성)

### 권장 선행 지식
- 없음

### 후속 연결
- 세션-092: 데이터 검증 함수 추가 (NotebookLM)

### 브릿지 노트 예시
> "v3로의 완벽한 진화, 다들 성공하셨나요? 코드가 훨씬 든든해졌죠. 그런데 지금 구조에서는 사용자가 전화번호에 '가나다라'를 입력해도 그대로 저장이 돼버립니다. 객체지향의 장점을 살려, 고객 전담팀에 '깐깐한 검증' 기능을 추가해 봅시다. 세션 92로 가볼까요?"

## 📝 Gemini 프롬프트 최적화 태그
```yaml
gemini_optimized:
  chunk_type: code
  complexity: medium
  estimated_chars: 4000
  output_style: continuous_prose
  tone: friendly_spoken_korean
  include:
    - instructor_script: true
    - lab_guide: true
    - analogy: detailed_situation
    - mermaid_diagram: false
  prerequisites:
    mandatory: [90]
    recommended: []
```

## ✅ 체크리스트 (작성자 자가 검증)
- [x] 단 1개의 핵심 학습 목표만 명시했는가?
- [x] 소요 시간이 15~25분 범위인가?
- [x] 강사 대본 예상 분량이 1,500~2,000자 범위인가?
- [x] chunk_type, complexity 태그를 부여했는가?
- [x] 선행/후행 세션을 명확히 연결했는가?
- [x] 비유가 'AI 시대의 서사' 톤과 일치하는가?
