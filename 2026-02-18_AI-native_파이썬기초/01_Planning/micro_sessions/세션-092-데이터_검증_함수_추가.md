# 마이크로 세션: 092-데이터 검증 함수 추가

## 📋 메타 정보
| 항목 | 값 |
|------|-----|
| **세션 ID** | MS-AI-native_파이썬기초-092 |
| **소요 시간** | 20분 |
| **예상 교안 분량** | 3,000자 |
| **선행 세션** | 세션-091 (필수) |
| **후행 세션** | 세션-093 |
| **핵심 키워드** | 데이터 검증, 예외 처리, 정규표현식, 방어적 프로그래밍 |
| **난이도** | medium |
| **청크 타입** | code |

## 🎯 학습 목표
단 1개의 구체적인 학습 목표 (SMART 원칙 적용):
- 이 세션 종료 시 수강생은 AI 프롬프트를 활용하여 올바르지 않은 이메일과 전화번호 형식을 걸러내는 '데이터 검증 함수'를 생성하고 CustomerManager 클래스에 통합할 수 있다.

## 🗣️ 강사 대본 구성

### 예상 분량
- **최소**: 공백 포함 1,500자
- **최대**: 공백 포함 2,000자
- **화법**: 친근한 구어체 (~해요, ~입니다)

### 서술 흐름
1. **도입 (Hook)**: 고객 이름에 빈칸, 전화번호에 '가나다', 이메일에 '골뱅이 없음' 등 사용자는 상상을 초월하는 입력을 한다는 사실(Pain point)을 언급합니다.
2. **비유 (Analogy)**: '깐깐한 문지기' 비유. 클럽 입구에서 신분증을 철저히 검사하듯, 객체 내부로 쓰레기 데이터가 들어오지 못하게 막는 문지기(검증 로직)가 필요하다고 설명합니다.
3. **개념 설명 (What)**: 방어적 프로그래밍(Defensive Programming)의 일환으로 데이터 검증(Validation)이 왜 중요한지, 그리고 파이썬에서 정규표현식(Regex)을 사용하면 이메일 형식을 어떻게 쉽게 검사할 수 있는지 간단히 소개합니다.
4. **실제 활용 (How)**: "전화번호는 010-XXXX-XXXX 형식이어야 하고, 이메일은 @가 포함되어야 하며, 중복된 전화번호는 등록할 수 없어"라는 명확한 규칙(비즈니스 로직)을 AI에게 프롬프트로 지시합니다.
5. **정리 (Checkpoint)**: 문지기가 세워지면서 데이터 무결성(데이터의 정확성과 일관성)이 확보되었음을 요약하고, 다음 세션에서 이 검증 로직을 '캡슐화' 원칙에 맞게 완벽하게 적용하는 실습을 예고합니다.

### 예시 스크립트
> "여러분, 사용자를 너무 믿지 마세요! '전화번호를 입력하세요' 했더니 '제 번호는 비밀입니다'라고 한글로 치는 사람이 꼭 있습니다. 이런 데이터가 우리 시스템에 그대로 저장되면 어떻게 될까요? 나중에 문자 메시지 보낼 때 시스템이 펑 하고 터져버립니다.
> 그래서 우리는 클럽 입구에 깐깐한 문지기를 세워야 합니다. '이메일에 골뱅이(@) 없으면 입장 불가!', '전화번호 형식 안 맞으면 입장 불가!' 이렇게요. 이걸 개발 용어로는 '데이터 검증(Validation)'이라고 해요. 
> 옛날에는 이메일 형식을 검사하는 복잡한 정규표현식을 개발자가 다 외워야 했지만, 이제는 AI에게 '이메일 형식 검사하는 함수 만들어줘' 하면 끝입니다. 우리는 AI에게 어떤 규칙(명세)으로 검사할 것인지만 똑바로 지시하면 됩니다."

## 🎙️ 실습 가이드 (해당 시)

### 실습 목표
- 이 실습을 통해 수강생은 요구사항 명세를 바탕으로 AI를 통해 데이터 검증 로직을 구현하고 테스트한다.

### 단계별 지시
| 단계 | 소요 시간 | 강사 지시사항 | 예상 결과 |
|------|----------|--------------|----------|
| 1 | 3분 | "AI에게 다음 프롬프트를 입력하세요: '전화번호 형식(010-0000-0000)과 이메일 형식을 검사하는 파이썬 함수를 작성해줘.'" | 정규표현식이 포함된 검증 함수 출력 |
| 2 | 5분 | "생성된 함수를 `customer_manager_v3.py`에 추가하고, 고객 등록 시 이 함수들을 거치도록 코드를 수정해달라고 AI에게 재요청합니다." | 검증 로직이 포함된 새로운 v3 코드 획득 |
| 3 | 5분 | "코드를 실행하고, 의도적으로 이메일에 'abc', 전화번호에 '0101234'를 입력해 보세요." | 오류 메시지와 함께 저장이 거부됨을 확인 |

### 주의사항 및 트러블슈팅
- 흔한 오류 1: 검증 함수를 클래스 안에 넣을지 밖에 넣을지 헷갈리는 경우 (해결법: 우선은 CustomerManager 클래스의 내부 메서드(예: `_validate_email`)로 넣거나 외부 헬퍼 함수로 빼는 두 가지 방법이 있음을 설명하고, 응집도를 위해 클래스 내부 메서드로 통합하도록 안내합니다.)

## 💡 비유 및 스토리텔링

### 핵심 비유
- **비유**: 클럽의 깐깐한 문지기 (Bouncer)
- **설명**: 무조건 데이터를 받아주던 친절한 시스템에서, 규칙(드레스 코드)에 맞지 않으면 가차 없이 돌려보내는 깐깐한 문지기를 세우는 과정입니다.
- **AI 시대의 서사 연결**: "AI가 코드를 짜주더라도, '어떤 데이터를 정상으로 볼 것인가'에 대한 규칙(드레스 코드)은 인간 기획자인 여러분이 명확하게 정의해야 합니다. 명세 주도 개발(SDD)의 핵심이죠."

### 스토리텔링 포인트
- 감정적 연결: 쓰레기 데이터 때문에 야근하며 DB를 수정해 본 개발자들의 괴담(?)을 가볍게 던지며 데이터 검증의 중요성을 피부로 느끼게 합니다.
- 전환 멘트: "문지기도 세웠고 룰도 정했습니다. 그런데 만약 내부 직원이 뒷문으로 몰래 들어와서 데이터를 조작하면 어쩌죠? 다음 세션, 객체지향의 꽃인 '캡슐화' 실습으로 뒷문까지 철저하게 잠가봅시다."

## 🔗 의존성 및 연결성

### 필수 선행 지식
- 세션-091: 고객관리 v3로의 진화 (CustomerManager 클래스 구조 파악)

### 권장 선행 지식
- 세션-021: 프롬프트 5대 필수 항목 (제약 조건, 예외 처리 명시)

### 후속 연결
- 세션-093: 캡슐화 실습 및 v3 코드 리뷰

### 브릿지 노트 예시
> "이제 사용자가 엉터리 데이터를 입력하는 건 완벽히 막았습니다. 하지만 아직 코드를 짜는 개발자 스스로가 실수로 데이터를 건드릴 위험은 남아있죠. 세션 93에서는 캡슐화를 통해 외부에서 함부로 접근할 수 없는 튼튼한 금고를 만들어 보겠습니다."

## 📝 Gemini 프롬프트 최적화 태그
```yaml
gemini_optimized:
  chunk_type: code
  complexity: medium
  estimated_chars: 3000
  output_style: continuous_prose
  tone: friendly_spoken_korean
  include:
    - instructor_script: true
    - lab_guide: true
    - analogy: detailed_situation
    - mermaid_diagram: false
  prerequisites:
    mandatory: [91]
    recommended: [21]
```


## 📚 참고자료 매핑

| 참고자료 | 관련 섹션 | 활용 방법 |
|----------|----------|----------|
| 8 코딩.pdf | §8.14 OOP 관련 | Day 5 객체지향 프로그래밍 배경 |

## ✅ 체크리스트 (작성자 자가 검증)
- [x] 단 1개의 핵심 학습 목표만 명시했는가?
- [x] 소요 시간이 15~25분 범위인가?
- [x] 강사 대본 예상 분량이 1,500~2,000자 범위인가?
- [x] chunk_type, complexity 태그를 부여했는가?
- [x] 선행/후행 세션을 명확히 연결했는가?
- [x] 비유가 'AI 시대의 서사' 톤과 일치하는가?
