# 마이크로 세션: 097-의존성 주입(DI) 개념

## 📋 메타 정보
| 항목 | 값 |
|------|-----|
| **세션 ID** | MS-AI-native_파이썬기초-097 |
| **소요 시간** | 20분 |
| **예상 교안 분량** | 3,000자 |
| **선행 세션** | 세션-096 (권장) |
| **후행 세션** | 세션-098 |
| **핵심 키워드** | 의존성 주입(DI), 인터페이스, 결합도, 유지보수 |
| **난이도** | medium |
| **청크 타입** | narrative |

## 🎯 학습 목표
단 1개의 구체적인 학습 목표 (SMART 원칙 적용):
- 이 세션 종료 시 수강생은 의존성 주입(DI)의 개념을 '교체 가능한 자동차 타이어' 비유를 통해 설명하고, 코드 결합도를 낮추는 이점을 이해할 수 있다.

## 🗣️ 강사 대본 구성

### 예상 분량
- **최소**: 공백 포함 1,500자
- **최대**: 공백 포함 2,000자
- **화법**: 친근한 구어체 (~해요, ~입니다)

### 서술 흐름
1. **도입 (Hook)**: 고객관리 프로그램이 메모리에서만 동작하여 껐다 켜면 데이터가 다 날아가는 치명적 문제점을 환기하며, '저장 기능'의 필요성을 제기합니다.
2. **비유 (Analogy)**: '자동차와 교체 가능한 타이어' 비유. 자동차(CustomerManager)에 일반 타이어(파일 저장)를 본드로 아예 붙여버리면, 겨울에 스노우 타이어(DB 저장)로 바꿀 때 자동차 전체를 뜯어고쳐야 합니다. 대신 규격(인터페이스)에 맞는 볼트 구멍만 만들어두면 타이어만 쏙쏙 교체할 수 있습니다.
3. **개념 설명 (What)**: 이것이 바로 의존성 주입(Dependency Injection, DI) 패턴입니다. 매니저 클래스가 "나는 엑셀 파일로만 저장할 거야!"라고 코드를 고정(강한 결합)하는 대신, 외부에서 저장 방식을 전달(주입)받도록 설계하는 기법입니다.
4. **실제 활용 (How)**: 파이썬 코드에서 `CustomerManager(FileStorage())` 형태로 객체를 생성할 때 괄호 안에 저장소 부품을 밀어 넣는(주입하는) 문법의 형태를 가볍게 미리 보여줍니다.
5. **정리 (Checkpoint)**: DI 패턴을 쓰면 뼈대(로직)는 그대로 두고 부품(저장소)만 자유롭게 바꿀 수 있음을 요약하고, 다음 시간에 직접 이 '타이어 부품'들을 만들어 볼 것을 예고합니다.

### 예시 스크립트
> "지금까지 만든 고객관리 프로그램의 치명적인 단점이 뭔지 아시나요? 프로그램을 껐다 켜면 기껏 입력한 고객 데이터가 다 날아갑니다! 당연하죠, 메모리에만 저장했으니까요. 그래서 하드디스크에 파일이나 DB로 저장하는 기능이 필요합니다.
> 자, 그런데 '파일 저장 코드'를 CustomerManager 클래스 안에 직접 타이핑해서 박아버리면 어떻게 될까요? 나중에 사장님이 '이제부터 파일 말고 데이터베이스(DB)로 저장해!'라고 하시면 코드를 다 뜯어고쳐야 합니다. 
> 자동차를 생각해 보세요. 여름엔 일반 타이어, 겨울엔 스노우 타이어로 바꾸죠? 만약 타이어를 차축에 용접해버렸다면 차를 버려야겠지만, 우리는 나사만 풀어서 쉽게 교체합니다. 우리 프로그램도 저장 기능(타이어)을 본체(자동차)에 용접하지 말고, 원할 때마다 나사를 풀어서 외부에서 끼워 넣게(주입하게) 만들 겁니다. 이게 바로 '의존성 주입(DI)'이라는 멋진 설계 패턴입니다."

## 🎙️ 실습 가이드 (해당 시)

### 실습 목표
- 이 실습을 통해 수강생은 코드의 강한 결합이 가져오는 문제를 인식하고 DI의 필요성에 대해 토론한다.

### 단계별 지시
| 단계 | 소요 시간 | 강사 지시사항 | 예상 결과 |
|------|----------|--------------|----------|
| 1 | 3분 | "AI에게 '객체지향 프로그래밍에서 의존성 주입(DI)을 안 쓰면 나중에 코드를 수정할 때 어떤 지옥이 펼쳐지는지 설명해줘'라고 물어보세요." | '강한 결합'으로 인한 연쇄적인 코드 수정 문제 답변 |
| 2 | 5분 | "이어서 '의존성 주입을 자동차의 타이어 교체에 비유해서 설명해줄래?'라고 요청해 보세요." | 인터페이스(나사 규격)와 주입(교체)의 명확한 비유 확인 |
| 3 | 2분 | "AI의 답변을 바탕으로, 우리가 앞으로 만들 저장소(파일, DB)가 왜 각각 별도의 클래스로 분리되어야 하는지 생각해 봅시다." | 모듈화 및 DI 패턴의 아키텍처적 당위성 공감 |

### 주의사항 및 트러블슈팅
- 흔한 오류 1: DI라는 용어 자체를 너무 무겁고 학술적으로 느끼는 경우 (해결법: 'Dependency Injection'이라는 거창한 이름 대신, 그냥 '부품 끼워 넣기'라고 아주 편안하게 부르도록 유도합니다.)

## 💡 비유 및 스토리텔링

### 핵심 비유
- **비유**: 용접된 타이어 vs 교체 가능한 타이어(DI)
- **설명**: 용접된 타이어(강한 결합)는 겨울이 오면 차를 통째로 바꿔야 하지만, 볼트로 고정하는 규격(인터페이스)을 맞추면 외부에서 새로운 타이어를 끼워 넣을 수(주입할 수) 있습니다.
- **AI 시대의 서사 연결**: "여러분이 AI 모델을 쓸 때 프롬프트 뼈대는 두고 모델만 Gemini에서 Claude로 쏙쏙 바꿔서 테스트해 본 적 있죠? 이것도 일종의 DI입니다. 핵심 로직과 도구를 분리하는 철학이죠."

### 스토리텔링 포인트
- 감정적 연결: 기획팀의 끝없는 요구사항 변경("파일로 해줘 -> DB로 해줘 -> 클라우드로 해줘")에 시달리지 않고 여유롭게 부품만 갈아 끼우는 '고급 개발자'의 모습을 상상하게 합니다.
- 전환 멘트: "개념이 완벽하게 머리에 들어오셨죠? 그럼 이제 자동차에 끼울 첫 번째 타이어 세트, '파일 저장 모듈' 타이어를 직접 깎아보러 가겠습니다."

## 🔗 의존성 및 연결성

### 필수 선행 지식
- 없음 (다형성이나 객체지향 기본 지식만 있으면 이해 가능)

### 권장 선행 지식
- 세션-096: 다형성 체험 (다양한 형태로 작동한다는 원리와 맞닿아 있음)

### 후속 연결
- 세션-098: 파일 저장 모듈(FileStorage) 구현

### 브릿지 노트 예시
> "왜 부품을 외부에서 끼워 넣어야 하는지 확실히 아셨을 겁니다. 자, 이제 이론은 접어두고 우리의 첫 번째 타이어 부품을 만들 시간입니다! 세션 98에서는 고객 데이터를 텍스트나 JSON 파일로 영구 저장하는 `FileStorage` 부품을 조립해 보겠습니다."

## 📝 Gemini 프롬프트 최적화 태그
```yaml
gemini_optimized:
  chunk_type: narrative
  complexity: medium
  estimated_chars: 3000
  output_style: continuous_prose
  tone: friendly_spoken_korean
  include:
    - instructor_script: true
    - lab_guide: true
    - analogy: detailed_situation
    - mermaid_diagram: false
  prerequisites:
    mandatory: []
    recommended: [96]
```


## 📚 참고자료 매핑

| 참고자료 | 관련 섹션 | 활용 방법 |
|----------|----------|----------|
| 8 코딩.pdf | §8.14 의존성 주입(DI) 패턴 | DI를 통한 결합도 감소 전략 |

## ✅ 체크리스트 (작성자 자가 검증)
- [x] 단 1개의 핵심 학습 목표만 명시했는가?
- [x] 소요 시간이 15~25분 범위인가?
- [x] 강사 대본 예상 분량이 1,500~2,000자 범위인가?
- [x] chunk_type, complexity 태그를 부여했는가?
- [x] 선행/후행 세션을 명확히 연결했는가?
- [x] 비유가 'AI 시대의 서사' 톤과 일치하는가?
