# 마이크로 세션: 072-코드 리뷰: 전역 변수와 코드 중복의 한계점 발견

## 📋 메타 정보
| 항목 | 값 |
|------|-----|
| **세션 ID** | MS-PY101-072 |
| **소요 시간** | 20분 |
| **예상 교안 분량** | 3,500자 |
| **선행 세션** | 세션-071 (필수) |
| **후행 세션** | 세션-073 |
| **핵심 키워드** | 코드 리뷰, 전역 변수의 위험성, 코드 중복 (DRY 원칙) |
| **난이도** | medium |
| **청크 타입** | narrative |

## 🎯 학습 목표
단 1개의 구체적인 학습 목표 (SMART 원칙 적용):
- 이 세션 종료 시 수강생은 완성된 절차적 코드를 리뷰하며 전역 변수의 위험성과 코드 중복(DRY 원칙 위배) 문제를 식별할 수 있다.

## 🗣️ 강사 대본 구성

### 예상 분량
- **최소**: 공백 포함 1,500자
- **최대**: 공백 포함 2,000자
- **화법**: 친근한 구어체 (~해요, ~입니다)

### 서술 흐름 (반드시 포함)
1. **도입 (Hook)**: 작동한다고 끝이 아님을 강조하며 시니어 개발자의 시각(코드 리뷰) 도입 (2~3문장)
2. **비유 (Analogy)**: 전역 변수를 '누구나 손댈 수 있는 공용 금고'에, 코드 중복을 '복붙한 안내문'에 비유 (5~8문장)
3. **개념 설명 (What)**: 코드 리뷰의 목적과, 절차적 코드의 두 가지 치명적 단점(전역 변수 오염, 중복 코드 유지보수) 설명 (8~12문장)
4. **실제 활용 (How)**: AI에게 "이 코드의 문제점을 알려줘"라고 프롬프트를 던져 스스로 비판하게 만드는 방법 시연
5. **정리 (Checkpoint)**: 발견된 문제점을 해결하기 위한 다음 패러다임(구조적 프로그래밍) 예고 (2~3문장)

### 예시 스크립트 (필수 - 작성자 참고용)
> "코드가 잘 돌아가니 기분이 좋죠? 하지만 훌륭한 시니어 개발자는 여기서 멈추지 않고 '코드 리뷰'를 합니다. 자, 우리 코드의 첫 번째 문제점은 바로 `customers = []`라는 '공용 금고(전역 변수)'입니다. 이 금고는 자물쇠가 없어서 누구나 열어볼 수 있고 돈을 훔쳐갈 수도 있어요. 프로그램이 커지면 어디서 데이터가 꼬였는지 찾을 길이 없죠. 두 번째 문제는 '코드 중복'입니다. U와 D에서 고객을 찾는 `for`문 로직이 똑같이 생겼죠? 복사해서 붙여넣기한 안내문 100장이 동네에 붙어있다고 생각해보세요. 문구를 수정하려면 100장을 다 찾아다니며 떼고 새로 붙여야 해요. 개발자들은 이걸 극도로 혐오합니다. DRY(Don't Repeat Yourself) 원칙이라고 하죠. 자, AI에게 직접 물어볼까요? '네가 짠 코드의 문제점을 비판해봐'라고요."

## 🎙️ 실습 가이드 (해당 시)

### 실습 목표
- 이 실습을 통해 수강생은 AI에게 자신이 짠 코드의 문제점을 스스로 리뷰하도록 지시하는 프롬프트 기법을 경험한다.

### 단계별 지시
| 단계 | 소요 시간 | 강사 지시사항 | 예상 결과 |
|------|----------|--------------|----------|
| 1 | 3분 | "Gemini 창에 '네가 짠 위 코드의 문제점이나 유지보수 측면의 단점을 3가지로 비판해줘'라고 입력하세요." | AI가 전역 변수, 모듈화 부족, 예외 처리 미흡 등을 지적 |
| 2 | 3분 | "AI가 지적한 내용 중 '전역 변수'와 '코드 중복' 부분에 밑줄을 긋듯 읽어보세요." | 강사의 설명과 AI의 비판이 일치함을 확인 |

### 주의사항 및 트러블슈팅
- 흔한 오류 1: AI가 너무 어려운 전문 용어로 비판하는 경우 (해결법: '초보자도 이해할 수 있게 쉬운 비유로 다시 설명해줘'라고 추가 프롬프트 지시)

## 💡 비유 및 스토리텔링

### 핵심 비유
- **비유**: 공용 금고와 복붙 안내문
- **설명**: 전역 변수의 통제 불가능성을 공용 금고로, 코드 중복의 유지보수 어려움을 수작업으로 수정해야 하는 복붙 안내문으로 비유.
- **AI 시대의 서사 연결**: AI는 문맥을 길게 유지하기 어렵기 때문에 코드가 길어지고 중복될수록 AI 스스로도 헷갈리기 시작합니다. 코드를 깔끔하게 유지하는 것은 인간뿐만 아니라 AI와의 협업을 위해서도 필수적입니다.

### 스토리텔링 포인트
- 감정적 연결: 복붙 코드를 수정하다 하나를 빼먹어서 밤을 새웠던 개발자의 괴담(Horror story) 공유
- 전환 멘트: "AI도 자기가 짠 코드가 구리다는 걸 인정했네요! 그럼 이 구린 코드를 어떻게 세련되게 바꿀 수 있을까요? 바로 '원룸을 투룸으로 리모델링'하는 겁니다."

## 🔗 의존성 및 연결성

### 필수 선행 지식
- 세션-071: 절차적 Update, Delete 기능 구현 및 통합 테스트 (리뷰할 대상 코드가 존재해야 함)

### 후속 연결
- 세션-073: 절차적 코드의 구조적 리팩토링 프롬프트 작성

### 브릿지 노트 예시
> "문제점을 정확히 진단했으니, 이제 수술대에 올릴 차례입니다. 전역 변수라는 공용 금고를 없애고, 중복된 코드를 하나로 묶어버리는 '구조적 프로그래밍' 수술을 시작해봅시다."

## 📝 Gemini 프롬프트 최적화 태그
```yaml
gemini_optimized:
  chunk_type: narrative
  complexity: medium
  estimated_chars: 3500
  output_style: continuous_prose
  tone: friendly_spoken_korean
  include:
    - instructor_script: true
    - lab_guide: true
    - analogy: detailed_situation
    - mermaid_diagram: false
  prerequisites:
    mandatory: [MS-PY101-071]
    recommended: []
```


## 📚 참고자료 매핑

| 참고자료 | 관련 섹션 | 활용 방법 |
|----------|----------|----------|
| 8 코딩.pdf | §8.9 절차적 프로그래밍 패턴 | 절차적 코드 구조와 한계 |
| 8 코딩.pdf | §8.12 코드 리뷰 5대 체크포인트 | 체계적 코드 리뷰 기법 |
| 9 디 버깅, 테스트, 배포.pdf | §9.4 PR과 코드 리뷰 프로세스 | Pull Request 리뷰 워크플로우 |

## ✅ 체크리스트 (작성자 자가 검증)
- [x] 단 1개의 핵심 학습 목표만 명시했는가?
- [x] 소요 시간이 15~25분 범위인가?
- [x] 강사 대본 예상 분량이 1,500~2,000자 범위인가?
- [x] chunk_type, complexity 태그를 부여했는가?
- [x] 선행/후행 세션을 명확히 연결했는가?
- [x] 비유가 'AI 시대의 서사' 톤과 일치하는가?